# Script for the Demo

- Faisal
  - Intro
  - Shows the git up repo and how it's organized
  - High level intro on the infrastructure that we have
  - Talk a bit about the IAM
  - Show some of the default service accounts and the roles assigned to each
  - Show the “SSH SECURE Tunnel” role which is required to login to VMs without external IP and secure boot
  - Other details (TBD)
  - Invite Shahril to show how the game works and how are the logs captured 
- Shahril
  - Share screen
  - Show the Gameplay process (Start client, use the APAC IP and port), play for a minute, make some kills\
  - Login to the console
  - Show the cloud storage buckets
  - Go to the Logging -> Router and show Sink, talk a bit about how the Sink are created (1 to push the Xonotic game logs data real-time, directly to the Cloud storage, and another one to push to Big Query)
  - (I can jump in and say, We have both created so that later on if they want to do analytics on the data, they can use do ETL and push to BQ)
  - Login to the BQ and show the data being sink into it to the correct result set and execute some SQL to show how we can extract various statistics
  - Invite Claudia to show the backend CloudSQL
- Claudia
  - Share screen
  - Show the Backed CloudSQL instance that has been created, and how it was created.
  - What was is the database IP and what users are created within the database
  - Show the xonotic-sandbox VM created specifically to test connectivity and execute some scripts if needed
  - SSH to the xonotic-sandbox VM, switch the user to `root`
  - Show the hidden .my.cnf
  - Connect to the MySQL instance using the game_user / password 
  - Show databases
  - Show tables
  - No need to show the table structure, say Faisal will explain these tables in more detail later on
  - Move to cloud storage and show the bucket created for database export backup
  - Invie Veronica to discuss about how the provisioning is done
- Veronica
  - Show the GitHub repo and the main README file which will have all the instruction on the deployment sequence and the database setup
  - Go through the deployment scripts how the two clusters are being created
  - How the node-pool and ingress works
  - Show how the app is being deployed manually using the original deploy.yaml, mention, KuoShiong will discuss about the CI/CD part in detail.
  - Load balancing and show the 
    - connect to SG cluster
      - `kubectl get svc,pods`
      - `kubectl get ingress`
    - connect to US cluster
        - `kubectl get svc,pods`
        - `kubectl get ingress`
  - Invites Faisal to talk about the backend database and UI
- Faisal
  - Share screen
  - Talk about the backend tables and their structure
  - Show the backend python script that generates the game simulated data
  - Execute it and show the data being generated in the backend
  - Show the Web UI and the data from both SG and US cluster
    - Show the latency and how it effects from US front-end to SG backed Database
  - Invites KuoShiong to talk about how CI/CD automation is done 
- KuoShiong
  - Share screen
  - Talk about CI/CD and why it’s an important part of this setup, customer requirements
  - Show the Cloud source repository
  - Show the Cloud Build and past build logs (Both failed and successful ones) 
  - Discuss how this whole pipeline works
  - Show the additional role that was assigned to the service account for this
- Andy
  - Share screen
  - Live demo on the CI/CD
    - Update one of the HTML file
    - Execute the `git commit -am "Test commit"` and `git push`
    - Switch to the Cloud build UI -> history and show the two builds being processed
    - In the cloud shell also show “watch kubectl get svc,pods” to show the app nodes being refreshed real-time
    - Once the update is done, login to the UI again and show the changes effective in both US and SG clusters

### Thank you :)